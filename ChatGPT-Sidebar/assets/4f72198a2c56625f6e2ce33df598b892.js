import{s as I}from"./12505fbd7c357225cfee202a261ae734.js";var d={isArray:function(t){return Array.isArray?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)}},S=d.isArray,h={copyOptions:function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n},ensureFlagExists:function(t,e){(!(t in e)||"boolean"!=typeof e[t])&&(e[t]=!1)},ensureSpacesExists:function(t){(!("spaces"in t)||"number"!=typeof t.spaces&&"string"!=typeof t.spaces)&&(t.spaces=0)},ensureAlwaysArrayExists:function(t){(!("alwaysArray"in t)||"boolean"!=typeof t.alwaysArray&&!S(t.alwaysArray))&&(t.alwaysArray=!1)},ensureKeyExists:function(t,e){(!(t+"Key"in e)||"string"!=typeof e[t+"Key"])&&(e[t+"Key"]=e.compact?"_"+t:t)},checkFnExists:function(t,e){return t+"Fn"in e}},H=I,c=h,K=d.isArray,t,i;function V(e){return t=c.copyOptions(e),c.ensureFlagExists("ignoreDeclaration",t),c.ensureFlagExists("ignoreInstruction",t),c.ensureFlagExists("ignoreAttributes",t),c.ensureFlagExists("ignoreText",t),c.ensureFlagExists("ignoreComment",t),c.ensureFlagExists("ignoreCdata",t),c.ensureFlagExists("ignoreDoctype",t),c.ensureFlagExists("compact",t),c.ensureFlagExists("alwaysChildren",t),c.ensureFlagExists("addParent",t),c.ensureFlagExists("trim",t),c.ensureFlagExists("nativeType",t),c.ensureFlagExists("nativeTypeAttributes",t),c.ensureFlagExists("sanitize",t),c.ensureFlagExists("instructionHasAttributes",t),c.ensureFlagExists("captureSpacesBetweenElements",t),c.ensureAlwaysArrayExists(t),c.ensureKeyExists("declaration",t),c.ensureKeyExists("instruction",t),c.ensureKeyExists("attributes",t),c.ensureKeyExists("text",t),c.ensureKeyExists("comment",t),c.ensureKeyExists("cdata",t),c.ensureKeyExists("doctype",t),c.ensureKeyExists("type",t),c.ensureKeyExists("name",t),c.ensureKeyExists("elements",t),c.ensureKeyExists("parent",t),c.checkFnExists("doctype",t),c.checkFnExists("instruction",t),c.checkFnExists("cdata",t),c.checkFnExists("comment",t),c.checkFnExists("text",t),c.checkFnExists("instructionName",t),c.checkFnExists("elementName",t),c.checkFnExists("attributeName",t),c.checkFnExists("attributeValue",t),c.checkFnExists("attributes",t),t}function w(t){var e=Number(t);if(!isNaN(e))return e;var n=t.toLowerCase();return"true"===n||"false"!==n&&t}function F(e,n){var r;if(t.compact){if(!i[t[e+"Key"]]&&(K(t.alwaysArray)?-1!==t.alwaysArray.indexOf(t[e+"Key"]):t.alwaysArray)&&(i[t[e+"Key"]]=[]),i[t[e+"Key"]]&&!K(i[t[e+"Key"]])&&(i[t[e+"Key"]]=[i[t[e+"Key"]]]),e+"Fn"in t&&"string"==typeof n&&(n=t[e+"Fn"](n,i)),"instruction"===e&&("instructionFn"in t||"instructionNameFn"in t))for(r in n)if(n.hasOwnProperty(r))if("instructionFn"in t)n[r]=t.instructionFn(n[r],r,i);else{var s=n[r];delete n[r],n[t.instructionNameFn(r,s,i)]=s}K(i[t[e+"Key"]])?i[t[e+"Key"]].push(n):i[t[e+"Key"]]=n}else{i[t.elementsKey]||(i[t.elementsKey]=[]);var a={};if(a[t.typeKey]=e,"instruction"===e){for(r in n)if(n.hasOwnProperty(r))break;a[t.nameKey]="instructionNameFn"in t?t.instructionNameFn(r,n,i):r,t.instructionHasAttributes?(a[t.attributesKey]=n[r][t.attributesKey],"instructionFn"in t&&(a[t.attributesKey]=t.instructionFn(a[t.attributesKey],r,i))):("instructionFn"in t&&(n[r]=t.instructionFn(n[r],r,i)),a[t.instructionKey]=n[r])}else e+"Fn"in t&&(n=t[e+"Fn"](n,i)),a[t[e+"Key"]]=n;t.addParent&&(a[t.parentKey]=i),i[t.elementsKey].push(a)}}function v(e){var n;if("attributesFn"in t&&e&&(e=t.attributesFn(e,i)),(t.trim||"attributeValueFn"in t||"attributeNameFn"in t||t.nativeTypeAttributes)&&e)for(n in e)if(e.hasOwnProperty(n)&&(t.trim&&(e[n]=e[n].trim()),t.nativeTypeAttributes&&(e[n]=w(e[n])),"attributeValueFn"in t&&(e[n]=t.attributeValueFn(e[n],n,i)),"attributeNameFn"in t)){var r=e[n];delete e[n],e[t.attributeNameFn(n,e[n],i)]=r}return e}function _(e){var n={};if(e.body&&("xml"===e.name.toLowerCase()||t.instructionHasAttributes)){for(var r=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,s;null!==(s=r.exec(e.body));)n[s[1]]=s[2]||s[3]||s[4];n=v(n)}if("xml"===e.name.toLowerCase()){if(t.ignoreDeclaration)return;i[t.declarationKey]={},Object.keys(n).length&&(i[t.declarationKey][t.attributesKey]=n),t.addParent&&(i[t.declarationKey][t.parentKey]=i)}else{if(t.ignoreInstruction)return;t.trim&&(e.body=e.body.trim());var a={};t.instructionHasAttributes&&Object.keys(n).length?(a[e.name]={},a[e.name][t.attributesKey]=n):a[e.name]=e.body,F("instruction",a)}}function J(e,n){var r;if("object"==typeof e&&(n=e.attributes,e=e.name),n=v(n),"elementNameFn"in t&&(e=t.elementNameFn(e,i)),t.compact){var s;if(r={},!t.ignoreAttributes&&n&&Object.keys(n).length)for(s in r[t.attributesKey]={},n)n.hasOwnProperty(s)&&(r[t.attributesKey][s]=n[s]);!(e in i)&&(K(t.alwaysArray)?-1!==t.alwaysArray.indexOf(e):t.alwaysArray)&&(i[e]=[]),i[e]&&!K(i[e])&&(i[e]=[i[e]]),K(i[e])?i[e].push(r):i[e]=r}else i[t.elementsKey]||(i[t.elementsKey]=[]),(r={})[t.typeKey]="element",r[t.nameKey]=e,!t.ignoreAttributes&&n&&Object.keys(n).length&&(r[t.attributesKey]=n),t.alwaysChildren&&(r[t.elementsKey]=[]),i[t.elementsKey].push(r);r[t.parentKey]=i,i=r}function B(e){t.ignoreText||!e.trim()&&!t.captureSpacesBetweenElements||(t.trim&&(e=e.trim()),t.nativeType&&(e=w(e)),t.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),F("text",e))}function q(e){t.ignoreComment||(t.trim&&(e=e.trim()),F("comment",e))}function z(e){var n=i[t.parentKey];t.addParent||delete i[t.parentKey],i=n}function Q(e){t.ignoreCdata||(t.trim&&(e=e.trim()),F("cdata",e))}function o(e){t.ignoreDoctype||(e=e.replace(/^ /,""),t.trim&&(e=e.trim()),F("doctype",e))}function Y(t){t.note=t}var N=function(e,n){var r=H.parser(!0,{}),s={};if(i=s,t=V(n),r.opt={strictEntities:!0},r.onopentag=J,r.ontext=B,r.oncomment=q,r.onclosetag=z,r.onerror=Y,r.oncdata=Q,r.ondoctype=o,r.onprocessinginstruction=_,r.write(e).close(),s[t.elementsKey]){var a=s[t.elementsKey];delete s[t.elementsKey],s[t.elementsKey]=a,delete s.text}return s},A=h,G=N;function M(t){var e=A.copyOptions(t);return A.ensureSpacesExists(e),e}var R=function(t,e){var n,r,i,s;return n=M(e),r=G(t,n),s="compact"in n&&n.compact?"_parent":"parent",(i="addParent"in n&&n.addParent?JSON.stringify(r,(function(t,e){return t===s?"_":e}),n.spaces):JSON.stringify(r,null,n.spaces)).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},y=h,U=d.isArray,E,m;function W(t){var e=y.copyOptions(t);return y.ensureFlagExists("ignoreDeclaration",e),y.ensureFlagExists("ignoreInstruction",e),y.ensureFlagExists("ignoreAttributes",e),y.ensureFlagExists("ignoreText",e),y.ensureFlagExists("ignoreComment",e),y.ensureFlagExists("ignoreCdata",e),y.ensureFlagExists("ignoreDoctype",e),y.ensureFlagExists("compact",e),y.ensureFlagExists("indentText",e),y.ensureFlagExists("indentCdata",e),y.ensureFlagExists("indentAttributes",e),y.ensureFlagExists("indentInstruction",e),y.ensureFlagExists("fullTagEmptyElement",e),y.ensureFlagExists("noQuotesForNativeAttributes",e),y.ensureSpacesExists(e),"number"==typeof e.spaces&&(e.spaces=Array(e.spaces+1).join(" ")),y.ensureKeyExists("declaration",e),y.ensureKeyExists("instruction",e),y.ensureKeyExists("attributes",e),y.ensureKeyExists("text",e),y.ensureKeyExists("comment",e),y.ensureKeyExists("cdata",e),y.ensureKeyExists("doctype",e),y.ensureKeyExists("type",e),y.ensureKeyExists("name",e),y.ensureKeyExists("elements",e),y.checkFnExists("doctype",e),y.checkFnExists("instruction",e),y.checkFnExists("cdata",e),y.checkFnExists("comment",e),y.checkFnExists("text",e),y.checkFnExists("instructionName",e),y.checkFnExists("elementName",e),y.checkFnExists("attributeName",e),y.checkFnExists("attributeValue",e),y.checkFnExists("attributes",e),y.checkFnExists("fullTagEmptyElement",e),e}function x(t,e,n){return(!n&&t.spaces?"\n":"")+Array(e+1).join(t.spaces)}function g(t,e,n){if(e.ignoreAttributes)return"";"attributesFn"in e&&(t=e.attributesFn(t,m,E));var r,i,s,a,u=[];for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&void 0!==t[r]&&(a=e.noQuotesForNativeAttributes&&"string"!=typeof t[r]?"":'"',i=(i=""+t[r]).replace(/"/g,"&quot;"),s="attributeNameFn"in e?e.attributeNameFn(r,i,m,E):r,u.push(e.spaces&&e.indentAttributes?x(e,n+1,!1):" "),u.push(s+"="+a+("attributeValueFn"in e?e.attributeValueFn(i,r,m,E):i)+a));return t&&Object.keys(t).length&&e.spaces&&e.indentAttributes&&u.push(x(e,n,!1)),u.join("")}function k(t,e,n){return E=t,m="xml",e.ignoreDeclaration?"":"<?xml"+g(t[e.attributesKey],e,n)+"?>"}function T(t,e,n){if(e.ignoreInstruction)return"";var r;for(r in t)if(t.hasOwnProperty(r))break;var i="instructionNameFn"in e?e.instructionNameFn(r,t[r],m,E):r;if("object"==typeof t[r])return E=t,m=i,"<?"+i+g(t[r][e.attributesKey],e,n)+"?>";var s=t[r]?t[r]:"";return"instructionFn"in e&&(s=e.instructionFn(s,r,m,E)),"<?"+i+(s?" "+s:"")+"?>"}function O(t,e){return e.ignoreComment?"":"\x3c!--"+("commentFn"in e?e.commentFn(t,m,E):t)+"--\x3e"}function j(t,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(t,m,E):t.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function C(t,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(t,m,E):t)+">"}function b(t,e){return e.ignoreText?"":(t=(t=(t=""+t).replace(/&amp;/g,"&")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(t,m,E):t)}function X(t,e){var n;if(t.elements&&t.elements.length)for(n=0;n<t.elements.length;++n)switch(t.elements[n][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;default:return!0}return!1}function Z(t,e,n){E=t,m=t.name;var r=[],i="elementNameFn"in e?e.elementNameFn(t.name,t):t.name;r.push("<"+i),t[e.attributesKey]&&r.push(g(t[e.attributesKey],e,n));var s=t[e.elementsKey]&&t[e.elementsKey].length||t[e.attributesKey]&&"preserve"===t[e.attributesKey]["xml:space"];return s||(s="fullTagEmptyElementFn"in e?e.fullTagEmptyElementFn(t.name,t):e.fullTagEmptyElement),s?(r.push(">"),t[e.elementsKey]&&t[e.elementsKey].length&&(r.push(P(t[e.elementsKey],e,n+1)),E=t,m=t.name),r.push(e.spaces&&X(t,e)?"\n"+Array(n+1).join(e.spaces):""),r.push("</"+i+">")):r.push("/>"),r.join("")}function P(t,e,n,r){return t.reduce((function(t,i){var s=x(e,n,r&&!t);switch(i.type){case"element":return t+s+Z(i,e,n);case"comment":return t+s+O(i[e.commentKey],e);case"doctype":return t+s+C(i[e.doctypeKey],e);case"cdata":return t+(e.indentCdata?s:"")+j(i[e.cdataKey],e);case"text":return t+(e.indentText?s:"")+b(i[e.textKey],e);case"instruction":var a={};return a[i[e.nameKey]]=i[e.attributesKey]?i:i[e.instructionKey],t+(e.indentInstruction?s:"")+T(a,e,n)}}),"")}function p(t,e,n){var r;for(r in t)if(t.hasOwnProperty(r))switch(r){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||n)return!0;break;case e.cdataKey:if(e.indentCdata||n)return!0;break;case e.instructionKey:if(e.indentInstruction||n)return!0;break;case e.doctypeKey:case e.commentKey:default:return!0}return!1}function L(t,e,n,r,i){E=t,m=e;var s="elementNameFn"in n?n.elementNameFn(e,t):e;if(typeof t>"u"||null===t||""===t)return"fullTagEmptyElementFn"in n&&n.fullTagEmptyElementFn(e,t)||n.fullTagEmptyElement?"<"+s+"></"+s+">":"<"+s+"/>";var a=[];if(e){if(a.push("<"+s),"object"!=typeof t)return a.push(">"+b(t,n)+"</"+s+">"),a.join("");t[n.attributesKey]&&a.push(g(t[n.attributesKey],n,r));var u=p(t,n,!0)||t[n.attributesKey]&&"preserve"===t[n.attributesKey]["xml:space"];if(u||(u="fullTagEmptyElementFn"in n?n.fullTagEmptyElementFn(e,t):n.fullTagEmptyElement),!u)return a.push("/>"),a.join("");a.push(">")}return a.push(D(t,n,r+1,!1)),E=t,m=e,e&&a.push((i?x(n,r,!1):"")+"</"+s+">"),a.join("")}function D(t,e,n,r){var i,s,a,u=[];for(s in t)if(t.hasOwnProperty(s))for(a=U(t[s])?t[s]:[t[s]],i=0;i<a.length;++i){switch(s){case e.declarationKey:u.push(k(a[i],e,n));break;case e.instructionKey:u.push((e.indentInstruction?x(e,n,r):"")+T(a[i],e,n));break;case e.attributesKey:case e.parentKey:break;case e.textKey:u.push((e.indentText?x(e,n,r):"")+b(a[i],e));break;case e.cdataKey:u.push((e.indentCdata?x(e,n,r):"")+j(a[i],e));break;case e.doctypeKey:u.push(x(e,n,r)+C(a[i],e));break;case e.commentKey:u.push(x(e,n,r)+O(a[i],e));break;default:u.push(x(e,n,r)+L(a[i],s,e,n,p(a[i],e)))}r=r&&!u.length}return u.join("")}var $=function(t,e){e=W(e);var n=[];return E=t,m="_root_",e.compact?n.push(D(t,e,0,!0)):(t[e.declarationKey]&&n.push(k(t[e.declarationKey],e,0)),t[e.elementsKey]&&t[e.elementsKey].length&&n.push(P(t[e.elementsKey],e,0,!n.length))),n.join("")},ee=$,re=function(t,e){t instanceof Buffer&&(t=t.toString());var n=null;if("string"==typeof t)try{n=JSON.parse(t)}catch{throw new Error("The JSON structure is invalid")}else n=t;return ee(n,e)},te=N,ne=R,ae=$,se=re,ue={xml2js:te,xml2json:ne,js2xml:ae,json2xml:se};export{ue as l};